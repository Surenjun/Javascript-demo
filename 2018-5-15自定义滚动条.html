<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="帅气">
    <meta name="description" content="帅气">
    <meta name="Author" content="帅气的苏某人">
    <title>Title</title>
    <style>
        body{font-family: 'Microsoft YaHei',serif}
        body,dl,dd,h1,p,h2,h3,h4,h5,h6{margin:0}
        ol,ul,li,a{margin:0;padding:0;list-style:none}
        a{text-decoration: none}
        img{border:none}
        #wrap{
            width:700px;
            height:700px;
            background: #efefef;
            margin:50px auto;
            overflow:hidden;
            position: relative;
        }
        #wrap ul.content{
            width:660px;
            padding:10px;
            line-height:2.5;
            position: absolute;

        }
        #wrap ul.content li{
            border-bottom: 1px solid #fff;

        }
        #wrap .scrollbar{
            position: absolute;
            right:0;
            top:0;
            width:20px;
            height:698px;
            background-color: #ccc;
            box-shadow:0 0 6px 0 #666 inset;
            border-radius:10px;
            border:1px solid #888;
        }
        #wrap .scrollbar.hide{
            display: none;
        }
        #wrap .scrollbar i{
            position: absolute;
            width:100%;
            height:30px;
            background: #eee;
            border-radius: 10px;
        }
    </style>
</head>
<body >
    <div id="wrap" >
        <ul class="content" >
            <li>
                <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                <span>生命就像一盒巧克力，结果往往出人意料。</span>
            </li>
            <li>
                <p>2、Stupid is as stupid does.</p>
                <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
            </li>
            <li>
                <p>3、Miracles happen every day.</p>
                <span>奇迹每天都在发生。</span>
            </li>
            <li>
                <p>4、it made me look like a duck in water.</p>
                <span>它让我如鱼得水。</span>
            </li>
            <li>
                <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
            </li>
            <li>
                <p>6、Death is just a part of life, something we're all destined to do.</p>
                <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
            </li>
            <li>
                <p>7、You have got to put the past behind you before you can move on.</p>
                <span>放下包袱，继续前进。</span>
            </li>
            <li>
                <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
            </li>
            <li>
                <p>9、If there is anything you need, I will not be far away.</p>
                <span>只要你需要，我就在这里。</span>
            </li>
            <li>
                <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                <span>生命就像一盒巧克力，结果往往出人意料。</span>
            </li>
            <li>
                <p>2、Stupid is as stupid does.</p>
                <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
            </li>
            <li>
                <p>3、Miracles happen every day.</p>
                <span>奇迹每天都在发生。</span>
            </li>
            <li>
                <p>4、it made me look like a duck in water.</p>
                <span>它让我如鱼得水。</span>
            </li>
            <li>
                <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
            </li>
            <li>
                <p>6、Death is just a part of life, something we're all destined to do.</p>
                <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
            </li>
            <li>
                <p>7、You have got to put the past behind you before you can move on.</p>
                <span>放下包袱，继续前进。</span>
            </li>
            <li>
                <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
            </li>
            <li>
                <p>9、If there is anything you need, I will not be far away.</p>
                <span>只要你需要，我就在这里。</span>
            </li>
            <li>
                <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                <span>生命就像一盒巧克力，结果往往出人意料。</span>
            </li>
            <li>
                <p>2、Stupid is as stupid does.</p>
                <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
            </li>
            <li>
                <p>3、Miracles happen every day.</p>
                <span>奇迹每天都在发生。</span>
            </li>
            <li>
                <p>4、it made me look like a duck in water.</p>
                <span>它让我如鱼得水。</span>
            </li>
            <li>
                <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
            </li>
            <li>
                <p>6、Death is just a part of life, something we're all destined to do.</p>
                <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
            </li>
            <li>
                <p>7、You have got to put the past behind you before you can move on.</p>
                <span>放下包袱，继续前进。</span>
            </li>
            <li>
                <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
            </li>
            <li>
                <p>9、If there is anything you need, I will not be far away.</p>
                <span>只要你需要，我就在这里。</span>
            </li>
            <li>
                <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                <span>生命就像一盒巧克力，结果往往出人意料。</span>
            </li>
            <li>
                <p>2、Stupid is as stupid does.</p>
                <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
            </li>
            <li>
                <p>3、Miracles happen every day.</p>
                <span>奇迹每天都在发生。</span>
            </li>
            <li>
                <p>4、it made me look like a duck in water.</p>
                <span>它让我如鱼得水。</span>
            </li>
            <li>
                <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
            </li>
            <li>
                <p>6、Death is just a part of life, something we're all destined to do.</p>
                <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
            </li>
            <li>
                <p>7、You have got to put the past behind you before you can move on.</p>
                <span>放下包袱，继续前进。</span>
            </li>
            <li>
                <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
            </li>
            <li>
                <p>9、If there is anything you need, I will not be far away.</p>
                <span>只要你需要，我就在这里。</span>
            </li>
            <li>
                <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                <span>生命就像一盒巧克力，结果往往出人意料。</span>
            </li>
            <li>
                <p>2、Stupid is as stupid does.</p>
                <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
            </li>
            <li>
                <p>3、Miracles happen every day.</p>
                <span>奇迹每天都在发生。</span>
            </li>
            <li>
                <p>4、it made me look like a duck in water.</p>
                <span>它让我如鱼得水。</span>
            </li>
            <li>
                <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
            </li>
            <li>
                <p>6、Death is just a part of life, something we're all destined to do.</p>
                <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
            </li>
            <li>
                <p>7、You have got to put the past behind you before you can move on.</p>
                <span>放下包袱，继续前进。</span>
            </li>
            <li>
                <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
            </li>
            <li>
                <p>9、If there is anything you need, I will not be far away.</p>
                <span>只要你需要，我就在这里。</span>
            </li>
        </ul>

        <div class="scrollbar">
            <i></i>
        </div>
    </div>
    <script>
            (function () {

                var scroll = document.getElementsByClassName("scrollbar")[0],
                    oI = scroll.getElementsByTagName("i")[0],
                    content = document.getElementsByClassName("content")[0],
                    oWrap = document.getElementById("wrap"),

                    scrollH = scroll.offsetHeight,
                    oWrapH =  oWrap.offsetHeight,
                    contentH = content.offsetHeight

                ;

                if(contentH < oWrapH ){oI.style.display = "none"}
                else{ oI.style.height = scrollH * oWrapH / contentH + "px";}

                var oIH = oI.offsetHeight;

                var minTop = 0,
                    maxTop = scrollH -  oIH,
                    maxContent = contentH - oWrapH
                ;

                //滑轮按住
                !function () {
                    oI.onmousedown = function (ev) {
                        ev = ev || window.event;
                        var oTop =  ev.clientY;
                        var pTop = this.offsetTop;
                        document.onmousemove = function (ev) {
                            ev = ev || window.event;
                            var oTop1 = ev.clientY;
                            var move = pTop + oTop1 - oTop;
                            change(move);
                        };
                    };

                    document.onmouseup = function () {
                        document.onmousemove = null;
                    }

                }();

                //滑轮点击
                !function () {
                    scroll.onclick = function (ev) {
                        ev = ev || window.event;
                        //layerY 在当前触发鼠标事件的元素和它的祖先元素中找到最近的具有定位属性的元素，计算鼠标与其的偏移值
                        if((ev.target||ev.srcElement) !== this)return;
                        var y = ev.layerY!==undefined?ev.layerY:ev.y;//兼容IE
                        change(y - oIH / 2);
                    };
                }();

                function change(move) {
                    move = Math.min(move,maxTop);
                    move = Math.max(minTop,move);
                    content.style.top = - move *( maxContent / maxTop)  + "px";
                    oI.style.top = move + "px";

                }

                !function () {
                    wheel(oWrap,function (ev,dir){

                    var top = oI.offsetTop - dir * 10;
                    change(top);

                    return false;
                    });
                }();

            })();


            //滚轮事件的兼容
            function wheel(obj,eFn) {

                function fn(e) {
                    e = e || window.event;

                    var direction = e.wheelDelta / 120 || - e.detail / 3;
                    if(eFn.call(obj, e, direction) === false){
                        //使用call传参并执行
                        e.preventDefault ? e.preventDefault() : e.returnValue = false;
                    }
                }

                var type = this.onmousewheel === null?"mousewheel":"DOMMouseScroll";

                window.addEventListener ? obj.addEventListener(type, fn)
                    : obj.attachEvent("on" + type, fn);

            }

    </script>
    </body>
</html>